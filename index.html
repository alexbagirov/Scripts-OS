<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="utf-8">
	<meta name="robots" content="index, follow">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Substrings Analysis</title>
	<link rel="stylesheet" href="spectre.css">
	<link rel="stylesheet" href="spectre-icons.css">
	<link rel="stylesheet" href="spectre-exp.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
	<script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
	<link rel="stylesheet" href="custom.css">
</head>

<body class="bg-gray">
	<div class="main">
		<div class="grid-hero container grid-lg text-center">
			<h1>Substrings Analysis</h1>
			<h4>Алгоритмы: Bruteforce, Hash Sums, Squared Hash Sums, Rabin-Karp, Automaton, Boyer-Moore</h4>
		</div>
		<div class="description">
			<p>Для всех написанных алгоритмов поиска подстроки в строке были созданы 4 группы тестов:</p>
			<ol>
				<li>короткий текст + длинная подстрока</li>
				<li>короткий текст + длинная подстрока</li>
				<li>короткий текст + длинная подстрока</li>
				<li>короткий текст + длинная подстрока</li>
			</ol>
			<p>Каждая группа содержала как минимум 10 тестов, каждый из которых поочерёдно запускался для всех алгоритмов.</p>
			<p>Ниже представлены графики зависимости времени поиска от входных данных каждого из тестов в четырёх группах
				(по вертикали указано время в миллисекундах). Далее следует сравнение всех алгоритмов в каждой из групп тестов.</p>
			<div class="toast">
				<h6>Пояснение к тестам</h6>
				<p>Длинные тексты взяты с данного <a href="http://www.gutenberg.org/wiki/Main_Page">сайта</a> и не являются равномерными по длине.<br>
					Тексты 7, 8 и 9 значительно длиннее остальных, что отразилось на графиках. Это предоставляет дополнительную возможность для сравнения алгоритмов.</p>
			</div>
		</div>

    <section class="algo">
  		<h4>Bruteforce</h4>
  		<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bfFirst"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bfSecond"></div>
  					</div>
  				</div>
  			</div>
			</div>
			<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bfThird"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bfFourth"></div>
  					</div>
  				</div>
  			</div>
  		</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Поиск полным перебором хорошо справляется со своей задачей по времени, так как у него нет зависимости
				от объема вводимых данных.</p>
			</div>
    </section>

    <section class="algo">
      <h4>Hash Sums</h4>
  		<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="sumsFirst"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="sumsSecond"></div>
  					</div>
  				</div>
  			</div>
			</div>
			<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="sumsThird"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="sumsFourth"></div>
  					</div>
  				</div>
  			</div>
  		</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Увеличение объема вводимых данных плохо сказывается на быстродействии алгоритма.</p>
			</div>
    </section>

    <section class="algo">
      <h4>Hash Squared Sums</h4>
  		<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="squaredFirst"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="squaredSecond"></div>
  					</div>
  				</div>
  			</div>
			</div>
			<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="squaredThird"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="squaredFourth"></div>
  					</div>
  				</div>
  			</div>
  		</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>У данного алгоритма всё ещё хуже, так как добавляется ресурсоёмкая операция - возведения числа в квадрат.</p>
			</div>
    </section>

    <section class="algo">
      <h4>Rabin-Karp</h4>
  		<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="karpFirst"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст + короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="karpSecond"></div>
  					</div>
  				</div>
  			</div>
			</div>
			<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="karpThird"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="karpFourth"></div>
  					</div>
  				</div>
  			</div>
  		</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Возведений в степень стало больше. Преимущество алгоритма - меньшее
					количество коллизий по сравнению с двумя предыдущими.</p>
			</div>
    </section>

    <section class="algo">
      <h4>Automaton</h4>
  		<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="autoFirst"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="autoSecond"></div>
  					</div>
  				</div>
  			</div>
			</div>
			<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="autoThird"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="autoFourth"></div>
  					</div>
  				</div>
  			</div>
  		</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Алгоритм крайне затратен по времени при большой длине строки для поиска, так как
					построенная таблица очень сильно разрастается.</p>
			</div>
    </section>

    <section class="algo">
      <h4>Boyer-Moore</h4>
  		<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bmFirst"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bmSecond"></div>
  					</div>
  				</div>
  			</div>
			</div>
			<div class="columns">
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">длинный текст +<br>длинная подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bmThird"></div>
  					</div>
  				</div>
  			</div>
  			<div class="column col-6 col-xs-12">
  				<div class="card">
  					<div class="card-header">
  						<div class="card-title h5">короткий текст +<br>короткая подстрока</div>
  					</div>
  					<div class="card-body">
  						<div class="ct-chart ct-perfect-fourth" id="bmFourth"></div>
  					</div>
  				</div>
  			</div>
  		</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Для длинных текстов производительность алгоритма кажется лучше, чем у хэшей.</p>
			</div>
    </section>

		<section class="algo">
      <h4>Короткий текст + длинная подстрока</h4>
  		<div class="columns">
  			<div class="column col-12 col-xs-12">
					<div class="group">
	  				<div class="card">
	  					<div class="card-header">
	  						<div class="card-title h5">Выполнение всеми алгоритмами тестов из данной группы</div>
	  					</div>
	  					<div class="card-body">
	  						<div class="ct-chart ct-perfect-fourth" id="shortLong"></div>
	  					</div>
	  				</div>
					</div>
  			</div>
			</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Лучшие алгоритмы - Bruteforce и Rabin-Karp. Разве что второй сильно потерял во времени на длинном тексте.</p>
			</div>
    </section>

		<section class="algo">
      <h4>Длинный текст + короткая подстрока</h4>
  		<div class="columns">
  			<div class="column col-12 col-xs-12">
					<div class="group">
	  				<div class="card">
	  					<div class="card-header">
	  						<div class="card-title h5">Выполнение всеми алгоритмами тестов из данной группы</div>
	  					</div>
	  					<div class="card-body">
	  						<div class="ct-chart ct-perfect-fourth" id="longShort"></div>
	  					</div>
	  				</div>
					</div>
  			</div>
			</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Bruteforce снова показывает самые лучшие результаты.</p>
			</div>
    </section>

		<section class="algo">
      <h4>Длинный текст + длинная подстрока</h4>
  		<div class="columns">
  			<div class="column col-12 col-xs-12">
					<div class="group">
	  				<div class="card">
	  					<div class="card-header">
	  						<div class="card-title h5">Выполнение всеми алгоритмами тестов из данной группы</div>
	  					</div>
	  					<div class="card-body">
	  						<div class="ct-chart ct-perfect-fourth" id="longLong"></div>
	  					</div>
	  				</div>
					</div>
  			</div>
			</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Bruteforce.</p>
			</div>
    </section>

		<section class="algo">
      <h4>Короткий текст + короткая подстрока</h4>
  		<div class="columns">
  			<div class="column col-12 col-xs-12">
					<div class="group">
	  				<div class="card">
	  					<div class="card-header">
	  						<div class="card-title h5">Выполнение всеми алгоритмами тестов из данной группы</div>
	  					</div>
	  					<div class="card-body">
	  						<div class="ct-chart ct-perfect-fourth" id="shortShort"></div>
	  					</div>
	  				</div>
					</div>
  			</div>
			</div>
			<div class="toast toast-info">
				<h6>Вывод</h6>
				<p>Алгоритм Бойера-Мура хорошо справился с короткими текстами и подстроками. Хуже всех работает
				алгоритм, строящий автоматы.</p>
			</div>
    </section>

		<div class="description">
			<h3>Вывод</h3>
			<p>Как ни странно, самые лучшие результаты в большинстве случаев показал алгоритм Bruteforce.</p>
		</div>

	</div>

	<script>
  makeChart('bfFirst', [[5, 5, 5, 5, 5, 7, 15, 16, 5, 14]]);
  makeChart('bfSecond', [[5, 5, 5, 6, 6, 5, 4, 6, 4, 5, 4, 5, 7, 9, 14, 14, 16, 16, 17, 15, 14]]);
  makeChart('bfThird', [[6, 6, 6, 4, 4, 9, 16, 18, 5, 14]]);
	makeChart('bfFourth', [[0, 15, 10, 31, 15, 0, 0, 2, 3, 5]]);

	makeChart('sumsFirst', [[6, 7, 7, 7, 8, 13, 26, 29, 7, 22]]);
	makeChart('sumsSecond', [[7, 7, 6, 10, 11, 7, 8, 11, 7, 7, 11, 11, 13, 17, 26, 27, 31, 29, 31, 28, 23]]);
	makeChart('sumsThird', [[12, 14, 9, 8, 8, 14, 34, 35, 15, 28]]);
	makeChart('sumsFourth', [[0, 1, 10, 19, 4, 10, 10, 0, 2, 5]]);

	makeChart('squaredFirst', [[12, 11, 11, 9, 11, 19, 43, 76, 10, 37]]);
	makeChart('squaredSecond', [[11, 11, 11, 13, 10, 10, 10, 11, 11, 11, 12, 10, 20, 20, 43, 43, 43, 74, 36, 82, 37, 37]]);
	makeChart('squaredThird', [[12, 12, 11, 9, 11, 19, 41, 79, 12, 37]]);
	makeChart('squaredFourth', [[0, 0, 15, 10, 0, 0, 0, 0, 2, 3]]);

	makeChart('karpFirst', [[4, 5, 5, 5, 5, 12, 32, 36, 5, 26]]);
	makeChart('karpSecond', [[4, 4, 4, 5, 4, 5, 5, 5, 5, 5, 5, 5, 12, 12, 32, 31, 33, 39, 28, 26]]);
	makeChart('karpThird', [[14, 16, 16, 15, 15, 27, 62, 73, 16, 56]]);
	makeChart('karpFourth', [[15, 0, 15, 10, 0, 15, 2, 3, 6, 10]])

	makeChart('autoFirst', [[7, 8, 8, 7, 7, 15, 35, 40, 7, 30]]);
	makeChart('autoSecond', [[7, 7, 7, 9, 8, 8, 8, 9, 8, 7, 9, 7, 8, 8, 15, 15, 17, 35, 36, 40]]);
	makeChart('autoThird', [[486, 610, 510, 516, 430, 347, 458, 545, 492, 695]]);
	makeChart('autoFourth', [[31, 0, 6, 15, 15, 24, 22, 20, 15, 15]]);

	makeChart('bmFirst', [[8, 12, 11, 9, 12, 14, 32, 35, 9, 29]]);
	makeChart('bmSecond', [[8, 8, 7, 7, 12, 9, 11, 9, 7, 7, 7, 11, 8, 7, 15, 31, 32, 35, 21, 29, 28]]);
	makeChart('bmThird', [[20, 22, 21, 18, 19, 18, 21, 23, 22, 26]]);
	makeChart('bmFourth', [[31, 15, 31, 2, 31, 59, 30, 20, 10, 15]]);

  function makeChart(id, results) {
    var chart = new Chartist.Line('#' + id, {
  		series: results
  	}, {
  		low: 0
  	});
  	var seq = 0,
  		delays = 40,
  		durations = 250;
  	chart.on('created', function() {
  		seq = 0;
  	});
  	chart.on('draw', function(data) {
  		seq++;
  		if(data.type === 'line') {
  			data.element.animate({
  				opacity: {
  					begin: seq * delays + 1000,
  					dur: durations,
  					from: 0,
  					to: 1
  				}
  			});
  		} else if(data.type === 'label' && data.axis === 'x') {
  			data.element.animate({
  				y: {
  					begin: seq * delays,
  					dur: durations,
  					from: data.y + 100,
  					to: data.y,
  					easing: 'easeOutQuart'
  				}
  			});
  		} else if(data.type === 'label' && data.axis === 'y') {
  			data.element.animate({
  				x: {
  					begin: seq * delays,
  					dur: durations,
  					from: data.x - 100,
  					to: data.x,
  					easing: 'easeOutQuart'
  				}
  			});
  		} else if(data.type === 'point') {
  			data.element.animate({
  				x1: {
  					begin: seq * delays,
  					dur: durations,
  					from: data.x - 10,
  					to: data.x,
  					easing: 'easeOutQuart'
  				},
  				x2: {
  					begin: seq * delays,
  					dur: durations,
  					from: data.x - 10,
  					to: data.x,
  					easing: 'easeOutQuart'
  				},
  				opacity: {
  					begin: seq * delays,
  					dur: durations,
  					from: 0,
  					to: 1,
  					easing: 'easeOutQuart'
  				}
  			});
  		} else if(data.type === 'grid') {
  			var pos1Animation = {
  				begin: seq * delays,
  				dur: durations,
  				from: data[data.axis.units.pos + '1'] - 30,
  				to: data[data.axis.units.pos + '1'],
  				easing: 'easeOutQuart'
  			};
  			var pos2Animation = {
  				begin: seq * delays,
  				dur: durations,
  				from: data[data.axis.units.pos + '2'] - 100,
  				to: data[data.axis.units.pos + '2'],
  				easing: 'easeOutQuart'
  			};
  			var animations = {};
  			animations[data.axis.units.pos + '1'] = pos1Animation;
  			animations[data.axis.units.pos + '2'] = pos2Animation;
  			animations['opacity'] = {
  				begin: seq * delays,
  				dur: durations,
  				from: 0,
  				to: 1,
  				easing: 'easeOutQuart'
  			};
  			data.element.animate(animations);
  		}
  	});
  }
	</script>

	<script>
	makeBarChart('shortLong', [[5,6,12,4,7,8], [5,7,11,5,8,12],[5,7,11,5,8,11], [5,7,9,5,7,9], [5,8,11,5,7,12],
											[7,13,19,12,15,14], [15,26,43,32,35,32], [16,29,76,36,40,35], [5,7,10,5,7,9], [14,22,37,26,30,29]], 10);
	makeBarChart('longShort', [[5,7,11,4,7,8], [5,7,11,4,7,8], [6,11,10,4,8,12],
											[4,8,10,5,8,11], [6,11,11,5,9,9], [4,7,11,5,8,7], [5,7,11,5,7,7],
										  [4,11,12,5,9,7], [5,11,10,5,7,11], [14,26,43,32,15,15], [16,31,43,33,17,32], [16,29,74,39,35,35]], 5);
	makeBarChart('longLong', [[14,26,43,32,15,15], [14,27,43,31,15,31], [16,31,43,33,17,32], [16,29,74,39,35,35],
											[17,31,36,28,36,21], [15,28,82,26,40,29]], 10);
	makeBarChart('shortShort', [[0,0,0,15,31,31], [15,1,0,0,0,15], [10,10,15,10,15,2], [31,19,30,10,15,2], [15,4,0,0,15,31], [0,10,10,15,24,59]], 30);

	function makeBarChart(id, results, distance) {
		new Chartist.Bar('#' + id, {
	  labels: ['BF', 'Sums', 'Squared Sums', 'Rabin-Karp', 'Automaton', 'Boyer-Moore'],
	  series: results
		}, {
		  seriesBarDistance: distance,
		  reverseData: true,
		  horizontalBars: true,
		  axisY: {
		    offset: 85
		  }
		});
	}
	</script>
</body>

</html>
